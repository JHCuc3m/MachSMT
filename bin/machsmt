#!/usr/bin/env python3
import sys
import traceback
import pdb
import cProfile
from machsmt import MachSMT, die, Benchmark
from machsmt.config import config


def main():
    if not config.benchmarks:
        die("Please specify an input benchmark")

    machsmt = MachSMT()
    machsmt.predict(bench)


if __name__ == '__main__':
    try:
        if config.profile:
            cProfile.run('main()')
        else:
            main()
    except BaseException:
        extype, value, tb = sys.exc_info()
        traceback.print_exc()
        if config.debug:
            pdb.post_mortem(tb)
